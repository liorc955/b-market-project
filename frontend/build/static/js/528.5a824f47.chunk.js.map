{"version":3,"file":"static/js/528.5a824f47.chunk.js","mappings":"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","sources":["webpack://market-project/./src/components/UI/Card.module.css?26d0","components/UI/Card.jsx","webpack://market-project/./src/components/product/ProductInfo.module.css?2c18","webpack://market-project/./src/components/UI/Input.module.css?b6ae","components/UI/Input.jsx","components/product/ProductInfo.jsx","pages/ProductPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cart-container\":\"Card_cart-container__yqA0J\",\"image\":\"Card_image__77xSs\"};","import classes from \"./Card.module.css\";\r\n\r\nconst Card = (props) => {\r\n  return (\r\n    <div\r\n      className={`${classes[\"cart-container\"]} ${props.className} ${\r\n        props.image && classes.image\r\n      }`}\r\n      {...(props.image ? { style: {backgroundImage : `url(\"${props.image}\")`} } : {})}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"product-outer\":\"ProductInfo_product-outer__gfAUE\",\"product-container\":\"ProductInfo_product-container__VjcNk\"};","// extracted by mini-css-extract-plugin\nexport default {\"input-group\":\"Input_input-group__iqQwv\"};","import { useState } from 'react';\r\nimport classes from './Input.module.css';\r\n\r\nconst Input = (props) => {\r\n    const [counter, setCounter] = useState(1);\r\n    const btnClass = 'btn btn-light';\r\n    const increaseCounter = () => {\r\n        if (counter === 5) return;\r\n        setCounter(prevState=> ++prevState);\r\n    };\r\n    const decraseCounter = () => {\r\n        if (counter === 1) return;\r\n        setCounter(prevState=> --prevState);\r\n    }\r\n\r\n  return (\r\n    <div className={classes['input-group']}>\r\n      <button onClick={decraseCounter} type=\"button\" className={btnClass}>-</button>\r\n      <input ref={props.inputRef} type=\"number\" disabled={true} value={counter} />\r\n      <button onClick={increaseCounter} type=\"button\" className={btnClass}>+</button>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { useLoaderData } from \"react-router-dom\";\r\nimport Card from \"../UI/Card\";\r\nimport classes from \"./ProductInfo.module.css\";\r\nimport ProductImg from \"../product/ProductImg\";\r\nimport Input from \"../UI/Input\";\r\nimport { useCallback, useRef } from \"react\";\r\nimport AddToCartBtn from \"../UI/AddToCartBtn\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport veganImg from '../../img/vegan.png';\r\nimport { cartSliceActions } from \"../../store/cart-slice\";\r\n\r\nconst ProductInfo = () => {\r\n  const proudct = useLoaderData();\r\n  const counterInputRef = useRef();\r\n  const dispatch = useDispatch();\r\n\r\n  let { description } = proudct;\r\n\r\n  description = description.substring(0, description.indexOf(\".\") + 1);\r\n\r\n  const addProductToCart = useCallback(() => {\r\n    dispatch(\r\n      cartSliceActions.addItemToCart({\r\n        item: {\r\n          productId: proudct.id,\r\n          title: proudct.title,\r\n          price: proudct.price,\r\n          description: description,\r\n          image: proudct.image,\r\n          quantity: +counterInputRef.current.value,\r\n        },\r\n      })\r\n    );\r\n  }, [description, dispatch, proudct.id, proudct.image, proudct.price, proudct.title]);\r\n\r\n  return (\r\n    <div className={classes[\"product-outer\"]}>\r\n      <Card className={classes[\"product-container\"]}>\r\n        <ProductImg alt={proudct.title} src={proudct.image} />\r\n        <div>\r\n          <h1>{proudct.title}</h1>\r\n          <p>{proudct.description}</p>\r\n          <p style={{ fontWeight: \"bold\" }}>Price: {proudct.price}$</p>\r\n          <Input inputRef={counterInputRef} />\r\n          <AddToCartBtn onAddItem={addProductToCart} />\r\n        </div>\r\n        <img\r\n          style={{ height: \"80px\", width: \"80px\" }}\r\n          alt='vegan product'\r\n          src={veganImg}\r\n        ></img>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductInfo;\r\n","import { json } from \"react-router-dom\";\r\nimport ProductInfo from \"../components/product/ProductInfo\";\r\n\r\n\r\nconst ProductPage = () => {\r\n  return <ProductInfo />;\r\n};\r\n\r\nexport default ProductPage;\r\n\r\nexport const productLoader = async ({ req, params }) => {\r\n  const { id: productId } = params;\r\n\r\n  try {\r\n    const response = await fetch(\r\n      `${process.env.SERVER_URL}/products/${productId}`\r\n    );\r\n    if (!response.ok) throw new Error('Cound not fetch the product info.');\r\n    const data = await response.json();\r\n    return {...data, id: productId};\r\n  } catch (exception) {\r\n    throw json({message: exception.message}, {status: 500});\r\n  }\r\n};\r\n"],"names":["props","_jsx","_objectSpread","className","concat","classes","image","style","backgroundImage","children","_useState","useState","_useState2","_slicedToArray","counter","setCounter","btnClass","_jsxs","onClick","prevState","type","ref","inputRef","disabled","value","proudct","useLoaderData","counterInputRef","useRef","dispatch","useDispatch","description","substring","indexOf","addProductToCart","useCallback","cartSliceActions","addItemToCart","item","productId","id","title","price","quantity","current","Card","ProductImg","alt","src","fontWeight","Input","AddToCartBtn","onAddItem","height","width","veganImg","ProductInfo","productLoader","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","params","response","data","wrap","_context","prev","next","req","fetch","process","SERVER_URL","sent","ok","Error","json","abrupt","t0","message","status","stop","_x","apply","arguments"],"sourceRoot":""}