{"version":3,"file":"static/js/528.374f3e80.chunk.js","mappings":"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","sources":["webpack://market-project/./src/components/UI/Card.module.css?26d0","components/UI/Card.jsx","webpack://market-project/./src/components/product/ProductInfo.module.css?2c18","webpack://market-project/./src/components/UI/Input.module.css?b6ae","components/UI/Input.jsx","components/product/ProductInfo.jsx","pages/ProductPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cart-container\":\"Card_cart-container__yqA0J\",\"image\":\"Card_image__77xSs\"};","import classes from \"./Card.module.css\";\r\n\r\nconst Card = (props) => {\r\n  return (\r\n    <div\r\n      className={`${classes[\"cart-container\"]} ${props.className} ${\r\n        props.image && classes.image\r\n      }`}\r\n      {...(props.image ? { style: {backgroundImage : `url(\"${props.image}\")`} } : {})}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"product-outer\":\"ProductInfo_product-outer__gfAUE\",\"product-container\":\"ProductInfo_product-container__VjcNk\"};","// extracted by mini-css-extract-plugin\nexport default {\"input-group\":\"Input_input-group__iqQwv\"};","import { useState } from 'react';\r\nimport classes from './Input.module.css';\r\n\r\nconst Input = (props) => {\r\n    const [counter, setCounter] = useState(1);\r\n    const btnClass = 'btn btn-light';\r\n    const increaseCounter = () => {\r\n        if (counter === 5) return;\r\n        setCounter(prevState=> ++prevState);\r\n    };\r\n    const decraseCounter = () => {\r\n        if (counter === 1) return;\r\n        setCounter(prevState=> --prevState);\r\n    }\r\n\r\n  return (\r\n    <div className={classes['input-group']}>\r\n      <button onClick={decraseCounter} type=\"button\" className={btnClass}>-</button>\r\n      <input ref={props.inputRef} type=\"number\" disabled={true} value={counter} />\r\n      <button onClick={increaseCounter} type=\"button\" className={btnClass}>+</button>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","\r\nimport Card from \"../UI/Card\";\r\nimport classes from \"./ProductInfo.module.css\";\r\nimport ProductImg from \"../product/ProductImg\";\r\nimport Input from \"../UI/Input\";\r\nimport { useCallback, useRef } from \"react\";\r\nimport AddToCartBtn from \"../UI/AddToCartBtn\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport veganImg from \"../../img/vegan.png\";\r\nimport { cartSliceActions } from \"../../store/cart-slice\";\r\n\r\nconst ProductInfo = (props) => {\r\n  const counterInputRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const product = props.product;\r\n  let { description } = product;\r\n\r\n  description = description.substring(0, description.indexOf(\".\") + 1);\r\n\r\n  const addProductToCart = useCallback(() => {\r\n    dispatch(\r\n      cartSliceActions.addItemToCart({\r\n        item: {\r\n          productId: product.id,\r\n          title: product.title,\r\n          price: product.price,\r\n          description: description,\r\n          image: product.image,\r\n          quantity: +counterInputRef.current.value,\r\n        },\r\n      })\r\n    );\r\n  }, [\r\n    description,\r\n    dispatch,\r\n    product.id,\r\n    product.image,\r\n    product.price,\r\n    product.title,\r\n  ]);\r\n\r\n  return (\r\n    <div className={classes[\"product-outer\"]}>\r\n      <Card className={classes[\"product-container\"]}>\r\n        <ProductImg alt={product.title} src={product.image} />\r\n        <div>\r\n          <h1>{product.title}</h1>\r\n          <p>{product.description}</p>\r\n          <p style={{ fontWeight: \"bold\" }}>Price: {product.price}$</p>\r\n          <Input inputRef={counterInputRef} />\r\n          <AddToCartBtn onAddItem={addProductToCart} />\r\n        </div>\r\n        <img\r\n          style={{ height: \"80px\", width: \"80px\" }}\r\n          alt=\"vegan product\"\r\n          src={veganImg}\r\n        ></img>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductInfo;\r\n","import { json, useLoaderData } from \"react-router-dom\";\r\nimport ProductInfo from \"../components/product/ProductInfo\";\r\nimport { SERVER_URL } from \"../envConfig\";\r\nimport Head from \"../Head\";\r\n\r\nconst ProductPage = () => {\r\n  const product = useLoaderData();\r\n  return (\r\n    <>\r\n      <Head title={product.title} description={product.description} />\r\n      <ProductInfo product={product} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n\r\nexport const productLoader = async ({ req, params }) => {\r\n  const { id: productId } = params;\r\n\r\n  try {\r\n    const response = await fetch(`${SERVER_URL}/products/${productId}`);\r\n    if (!response.ok) throw new Error(\"Cound not fetch the product info.\");\r\n    const data = await response.json();\r\n    return { ...data, id: productId };\r\n  } catch (exception) {\r\n    throw json({ message: exception.message }, { status: 500 });\r\n  }\r\n};\r\n"],"names":["props","_jsx","_objectSpread","className","concat","classes","image","style","backgroundImage","children","_useState","useState","_useState2","_slicedToArray","counter","setCounter","btnClass","_jsxs","onClick","prevState","type","ref","inputRef","disabled","value","counterInputRef","useRef","dispatch","useDispatch","product","description","substring","indexOf","addProductToCart","useCallback","cartSliceActions","addItemToCart","item","productId","id","title","price","quantity","current","Card","ProductImg","alt","src","fontWeight","Input","AddToCartBtn","onAddItem","height","width","veganImg","useLoaderData","_Fragment","Head","ProductInfo","productLoader","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","params","response","data","wrap","_context","prev","next","req","fetch","SERVER_URL","sent","ok","Error","json","abrupt","t0","message","status","stop","_x","apply","arguments"],"sourceRoot":""}