{"version":3,"file":"static/js/192.44b67add.chunk.js","mappings":"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","sources":["webpack://market-project/./src/components/product/ProductInfo.module.css?2c18","webpack://market-project/./src/components/UI/CounterInput.module.css?fe84","components/UI/CounterInput.jsx","components/product/ProductInfo.jsx","pages/ProductPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"product-outer\":\"ProductInfo_product-outer__gfAUE\",\"product-container\":\"ProductInfo_product-container__VjcNk\"};","// extracted by mini-css-extract-plugin\nexport default {\"input-group\":\"CounterInput_input-group__8OlHi\"};","import { useState } from 'react';\r\nimport classes from './CounterInput.module.css';\r\n\r\nconst CounterInput = (props) => {\r\n    const [counter, setCounter] = useState(1);\r\n    const btnClass = 'btn btn-light';\r\n    const increaseCounter = () => {\r\n        if (counter === 5) return;\r\n        setCounter(prevState=> ++prevState);\r\n    };\r\n    const decraseCounter = () => {\r\n        if (counter === 1) return;\r\n        setCounter(prevState=> --prevState);\r\n    }\r\n\r\n  return (\r\n    <div className={classes['input-group']}>\r\n      <button onClick={decraseCounter} type=\"button\" className={btnClass}>-</button>\r\n      <input ref={props.inputRef} type=\"number\" disabled={true} value={counter} />\r\n      <button onClick={increaseCounter} type=\"button\" className={btnClass}>+</button>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default CounterInput;\r\n","import Card from \"../UI/Card\";\r\nimport classes from \"./ProductInfo.module.css\";\r\nimport ProductImg from \"../product/ProductImg\";\r\nimport CounterInput from \"../UI/CounterInput\";\r\nimport { useCallback, useRef } from \"react\";\r\nimport Button from \"../UI/Button\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { cartSliceActions } from \"../../store/cart-slice\";\r\n\r\nconst ProductInfo = (props) => {\r\n  const counterInputRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const product = props.product;\r\n  let { description } = product;\r\n\r\n  description = description.substring(0, description.indexOf(\".\") + 1);\r\n\r\n  const addProductToCart = useCallback(() => {\r\n    dispatch(\r\n      cartSliceActions.addItemToCart({\r\n        item: {\r\n          productId: product.id,\r\n          title: product.title,\r\n          price: product.price,\r\n          description: description,\r\n          image: product.image,\r\n          quantity: +counterInputRef.current.value,\r\n        },\r\n      })\r\n    );\r\n  }, [\r\n    description,\r\n    dispatch,\r\n    product.id,\r\n    product.image,\r\n    product.price,\r\n    product.title,\r\n  ]);\r\n\r\n  return (\r\n    <div className={classes[\"product-outer\"]}>\r\n      <Card className={classes[\"product-container\"]}>\r\n        <ProductImg alt={product.title} src={product.image} />\r\n        <div>\r\n          <h1>{product.title}</h1>\r\n          <p>{product.description}</p>\r\n          <p style={{ fontWeight: \"bold\" }}>Price: {product.price}$</p>\r\n          <CounterInput inputRef={counterInputRef} />\r\n          <Button onClick={addProductToCart}>Add To Cart</Button>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductInfo;\r\n","import { json, useLoaderData } from \"react-router-dom\";\r\nimport ProductInfo from \"../components/product/ProductInfo\";\r\nimport { SERVER_URL_API } from \"../envConfig\";\r\nimport Head from \"../components/Head\";\r\n\r\nconst ProductPage = () => {\r\n  const product = useLoaderData();\r\n  return (\r\n    <>\r\n      <Head title={product.title} description={product.description} />\r\n      <ProductInfo product={product} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n\r\nexport const productLoader = async ({ req, params }) => {\r\n  const { id: productId } = params;\r\n\r\n  try {\r\n    const response = await fetch(`${SERVER_URL_API}/products/${productId}`);\r\n    if (!response.ok) throw new Error(\"Cound not fetch the product info.\");\r\n    const data = await response.json();\r\n    return { ...data, id: productId };\r\n  } catch (exception) {\r\n    throw json({ message: exception.message }, { status: 500 });\r\n  }\r\n};\r\n"],"names":["props","_useState","useState","_useState2","_slicedToArray","counter","setCounter","btnClass","_jsxs","className","classes","children","_jsx","onClick","prevState","type","ref","inputRef","disabled","value","counterInputRef","useRef","dispatch","useDispatch","product","description","substring","indexOf","addProductToCart","useCallback","cartSliceActions","addItemToCart","item","productId","id","title","price","image","quantity","current","Card","ProductImg","alt","src","style","fontWeight","CounterInput","Button","useLoaderData","_Fragment","Head","ProductInfo","productLoader","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","params","response","data","wrap","_context","prev","next","req","fetch","concat","SERVER_URL_API","sent","ok","Error","json","abrupt","_objectSpread","t0","message","status","stop","_x","apply","arguments"],"sourceRoot":""}